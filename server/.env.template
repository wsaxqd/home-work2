# ============================================
# 启蒙之光 - 环境配置模板
# ============================================
#
# 使用说明：
# 1. 复制此文件并重命名为 .env
# 2. 根据下方说明填写实际的配置值
# 3. 保存后重启服务
#
# ============================================

# --------------------------------------------
# 服务器配置
# --------------------------------------------
PORT=3000
NODE_ENV=development

# --------------------------------------------
# 数据库配置
# --------------------------------------------
# PostgreSQL 数据库连接信息
DB_HOST=localhost
DB_PORT=5432
DB_NAME=qmzg_db
DB_USER=postgres
DB_PASSWORD=your_database_password

# --------------------------------------------
# JWT 配置
# --------------------------------------------
# JWT 密钥（用于用户认证）
# 建议使用随机生成的长字符串（至少32个字符）
# 生成方式: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_key_here_at_least_32_characters_long

# JWT 刷新令牌密钥（必须与 JWT_SECRET 不同）
JWT_REFRESH_SECRET=your_refresh_secret_key_here_at_least_32_characters_long

# JWT 过期时间
JWT_EXPIRES_IN=7d

# 刷新令牌过期时间
JWT_REFRESH_EXPIRES_IN=30d

# --------------------------------------------
# Dify AI 配置 (可选)
# --------------------------------------------
# 可以选择使用 Dify AI 或智谱 AI
# 如果使用 Dify，配置以下参数；如果使用智谱AI，跳到下一节

# Dify API 地址
# 云服务使用：https://api.dify.ai/v1
# 自部署使用：你的服务器地址
DIFY_API_URL=https://api.dify.ai/v1

# Dify 聊天应用 API 密钥
# 格式：app-xxxxxxxxxxxxxx
# 获取方式：在 Dify 控制台创建聊天应用后获取
DIFY_CHAT_APP_KEY=app-your-chat-app-key-here

# Dify 故事生成应用 API 密钥
DIFY_STORY_APP_KEY=app-your-story-app-key-here

# Dify 情感分析应用 API 密钥
DIFY_EMOTION_APP_KEY=app-your-emotion-app-key-here

# --------------------------------------------
# 智谱 AI 配置 (可选)
# --------------------------------------------
# 如果选择使用智谱AI，请配置以下参数
# 获取方式：https://open.bigmodel.cn/

# 智谱 API Key
ZHIPU_API_KEY=your-zhipu-api-key-here

# AI 服务提供商选择：dify 或 zhipu
AI_PROVIDER=dify

# --------------------------------------------
# 文件上传配置
# --------------------------------------------
# 上传文件存储路径
UPLOAD_DIR=./uploads

# 最大文件大小（单位：MB）
MAX_FILE_SIZE=10

# --------------------------------------------
# CORS 配置
# --------------------------------------------
# 允许的前端域名
CORS_ORIGIN=http://localhost:5174

# --------------------------------------------
# 邮件服务配置 (SMTP)
# --------------------------------------------
# SMTP 服务器地址
# 常用服务商:
# - Gmail: smtp.gmail.com
# - QQ邮箱: smtp.qq.com
# - 163邮箱: smtp.163.com
# - Outlook: smtp.office365.com
SMTP_HOST=smtp.gmail.com

# SMTP 端口
# - 587: TLS (推荐)
# - 465: SSL
# - 25: 非加密(不推荐)
SMTP_PORT=587

# 是否使用 SSL
# true: 使用 SSL (端口 465)
# false: 使用 TLS (端口 587)
SMTP_SECURE=false

# SMTP 用户名（通常是邮箱地址）
SMTP_USER=your-email@gmail.com

# SMTP 密码或应用专用密码
# Gmail: 需要生成应用专用密码
# QQ/163: 使用授权码
SMTP_PASSWORD=your-email-password-or-app-password

# 发件人邮箱地址
EMAIL_FROM=noreply@qmzg.com

# --------------------------------------------
# 日志配置
# --------------------------------------------
# 日志级别：debug, info, warn, error
LOG_LEVEL=info
