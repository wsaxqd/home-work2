# API 2.4 - 获取粉丝列表

## 接口信息

- **接口名称**: 获取粉丝列表
- **请求方法**: GET
- **请求路径**: `/api/users/followers`
- **需要认证**: 是

---

## 接口描述

获取当前用户的粉丝列表，支持分页查询。

---

## 请求参数

### Header参数
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| Authorization | String | 是 | Bearer {accessToken} |

### Query参数
| 参数名 | 类型 | 必填 | 说明 | 默认值 |
|--------|------|------|------|--------|
| page | Integer | 否 | 页码 | 1 |
| pageSize | Integer | 否 | 每页数量 | 20 |

### 请求示例

```
GET /api/users/followers?page=1&pageSize=20
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

---

## 响应结果

### 成功响应 (200 OK)

```json
{
  "success": true,
  "data": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440001",
      "nickname": "小红",
      "avatar": "https://example.com/avatar1.jpg",
      "bio": "爱好绘画",
      "followed_at": "2024-12-20T10:30:00.000Z",
      "is_following_back": true
    },
    {
      "id": "550e8400-e29b-41d4-a716-446655440002",
      "nickname": "小刚",
      "avatar": "https://example.com/avatar2.jpg",
      "bio": "音乐爱好者",
      "followed_at": "2024-12-19T14:20:00.000Z",
      "is_following_back": false
    }
  ],
  "pagination": {
    "page": 1,
    "pageSize": 20,
    "total": 150,
    "totalPages": 8
  }
}
```

### 错误响应

#### 401 Unauthorized - 未授权
```json
{
  "success": false,
  "message": "未授权，请先登录"
}
```

#### 500 Internal Server Error - 服务器错误
```json
{
  "success": false,
  "message": "获取粉丝列表失败"
}
```

---

## 字段说明

### 响应字段
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | UUID | 粉丝用户ID |
| nickname | String | 粉丝昵称 |
| avatar | String | 粉丝头像URL |
| bio | String | 粉丝个人简介 |
| followed_at | DateTime | 关注时间 |
| is_following_back | Boolean | 当前用户是否回关 |

---

## 业务规则

1. 按关注时间倒序排列（最新关注的在前）
2. 支持分页查询，默认每页20条
3. is_following_back标识是否互相关注
4. 仅返回关注关系未被删除的粉丝

---

## 使用场景

- 查看我的粉丝
- 粉丝管理页面
- 回关粉丝功能
- 粉丝数据分析

---

## 注意事项

1. 粉丝数量较多时建议使用分页
2. 建议缓存粉丝数据减少查询
3. is_following_back字段可用于展示"回关"按钮

---

## Postman测试

### 配置步骤
1. 创建新请求
2. 选择方法：`GET`
3. 输入URL：`http://localhost:3000/api/users/followers?page=1&pageSize=20`
4. 在Headers中添加：`Authorization: Bearer {accessToken}`
5. 点击`Send`发送请求

### 预期结果
- 状态码：200
- 返回粉丝列表和分页信息

---

## 相关接口

- [2.5 获取关注列表](./2.5-following.md)
- [2.7 关注用户](./2.7-follow-user.md)
- [2.8 取消关注](./2.8-unfollow-user.md)

---

## 更新记录

| 版本 | 日期 | 说明 |
|------|------|------|
| v1.0 | 2024-12-21 | 初始版本 |

---

**维护者**: AI Assistant
**最后更新**: 2024-12-21
