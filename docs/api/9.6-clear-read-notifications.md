# API 9.6 - 清空已读通知

## 接口信息

- **接口名称**: 清空已读通知
- **请求方法**: DELETE
- **请求路径**: `/api/notifications/clear/read`
- **需要认证**: 是

---

## 接口描述

批量删除当前用户的所有已读通知，用于清理通知列表。

---

## 请求参数

### Header参数
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| Authorization | String | 是 | Bearer {accessToken} |

### 请求示例

```http
DELETE /api/notifications/clear/read
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

---

## 响应结果

### 成功响应 (200 OK)

```json
{
  "success": true,
  "message": "已清空所有已读通知",
  "data": {
    "deletedCount": 23,
    "timestamp": "2024-12-22T10:30:00.000Z"
  }
}
```

### 错误响应

#### 401 Unauthorized - 未授权
```json
{
  "success": false,
  "message": "请先登录"
}
```

#### 500 Internal Server Error - 服务器错误
```json
{
  "success": false,
  "message": "清空失败"
}
```

---

## 字段说明

### 响应字段
| 字段名 | 类型 | 说明 |
|--------|------|------|
| deletedCount | Number | 删除的通知数量 |
| timestamp | DateTime | 操作时间 |

---

## 业务规则

1. 只删除当前用户的已读通知
2. 不影响未读通知
3. 批量删除，一次性清空所有已读
4. 操作不可撤销
5. 如果没有已读通知，返回deletedCount为0
6. 具有幂等性

---

## 使用场景

- 通知中心"清空已读"按钮
- 定期清理已读通知
- 释放通知列表空间
- 保持通知列表整洁

---

## 注意事项

1. 操作不可撤销，建议提供二次确认
2. 只删除已读通知，未读通知不受影响
3. 删除后无法恢复，请谨慎操作
4. 建议在用户主动触发时执行
5. 不影响未读通知数量统计

---

## Postman测试

### 配置步骤
1. 创建新请求
2. 选择方法：`DELETE`
3. 输入URL：`http://localhost:3000/api/notifications/clear/read`
4. 在Headers中添加：
   - Key: `Authorization`
   - Value: `Bearer {你的accessToken}`
5. 点击`Send`发送请求

### 预期结果
- 状态码：200
- 返回删除的通知数量
- 通知列表中已读通知全部清空

---

## 相关接口

- [9.1 获取通知列表](./9.1-notifications-list.md)
- [9.4 标记所有通知为已读](./9.4-mark-all-as-read.md)
- [9.5 删除单个通知](./9.5-delete-notification.md)

---

## 更新记录

| 版本 | 日期 | 说明 |
|------|------|------|
| v1.0 | 2024-12-22 | 初始版本 |

---

**维护者**: AI Assistant
**最后更新**: 2024-12-22
