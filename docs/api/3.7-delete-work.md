# API 3.7 - 删除作品

## 接口信息

- **接口名称**: 删除作品
- **请求方法**: DELETE
- **请求路径**: `/api/works/:id`
- **需要认证**: 是

---

## 接口描述

删除指定作品，仅作者本人可以删除。删除操作为软删除，数据仍保留在数据库中。

---

## 请求参数

### Header参数
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| Authorization | String | 是 | Bearer {accessToken} |

### Path参数
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | UUID | 是 | 作品ID |

### 请求示例

```
DELETE /api/works/550e8400-e29b-41d4-a716-446655440100
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

---

## 响应结果

### 成功响应 (200 OK)

```json
{
  "success": true,
  "message": "作品已删除"
}
```

### 错误响应

#### 401 Unauthorized - 未授权
```json
{
  "success": false,
  "message": "未授权，请先登录"
}
```

#### 403 Forbidden - 无权操作
```json
{
  "success": false,
  "message": "无权删除该作品"
}
```

#### 404 Not Found - 作品不存在
```json
{
  "success": false,
  "message": "作品不存在"
}
```

#### 500 Internal Server Error - 服务器错误
```json
{
  "success": false,
  "message": "删除作品失败"
}
```

---

## 字段说明

### 响应字段
无特殊字段，仅返回操作状态信息。

---

## 业务规则

1. 仅作者本人可以删除作品
2. 删除操作为软删除，数据标记为已删除但不物理删除
3. 删除后作品不再显示在任何列表中
4. 删除后作品的点赞、评论等关联数据仍保留
5. 已删除的作品无法恢复（需要联系管理员）

---

## 使用场景

- 删除不满意的作品
- 清理草稿作品
- 移除不适当的内容
- 作品管理

---

## 注意事项

1. 删除操作不可逆，建议添加二次确认
2. 删除已发布的作品会影响统计数据
3. 建议在删除前提示用户确认
4. 可以考虑添加"归档"功能作为替代方案

---

## Postman测试

### 配置步骤
1. 创建新请求
2. 选择方法：`DELETE`
3. 输入URL：`http://localhost:3000/api/works/{workId}`
4. 在Headers中添加：`Authorization: Bearer {accessToken}`
5. 点击`Send`发送请求

### 预期结果
- 状态码：200
- 返回删除成功信息
- 作品不再出现在列表中

---

## 相关接口

- [3.4 获取用户作品列表](./3.4-user-works.md)
- [3.5 获取作品详情](./3.5-work-detail.md)
- [3.6 更新作品](./3.6-update-work.md)

---

## 更新记录

| 版本 | 日期 | 说明 |
|------|------|------|
| v1.0 | 2024-12-21 | 初始版本 |

---

**维护者**: AI Assistant
**最后更新**: 2024-12-21
