# API 2.6 - 获取指定用户信息

## 接口信息

- **接口名称**: 获取指定用户信息
- **请求方法**: GET
- **请求路径**: `/api/users/:id`
- **需要认证**: 可选

---

## 接口描述

获取指定用户的公开信息。如果已登录，还会返回当前用户与该用户的关注关系。

---

## 请求参数

### Header参数
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| Authorization | String | 否 | Bearer {accessToken} |

### Path参数
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | UUID | 是 | 用户ID |

### 请求示例

```
GET /api/users/550e8400-e29b-41d4-a716-446655440000
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

---

## 响应结果

### 成功响应 (200 OK)

#### 已登录用户查看
```json
{
  "success": true,
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "nickname": "创作大师",
    "avatar": "https://example.com/avatar.jpg",
    "bio": "专业创作者",
    "created_at": "2024-11-01T10:00:00.000Z",
    "stats": {
      "works_count": 50,
      "followers_count": 1200,
      "following_count": 300
    },
    "is_following": true,
    "is_follower": false
  }
}
```

#### 未登录用户查看
```json
{
  "success": true,
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "nickname": "创作大师",
    "avatar": "https://example.com/avatar.jpg",
    "bio": "专业创作者",
    "created_at": "2024-11-01T10:00:00.000Z",
    "stats": {
      "works_count": 50,
      "followers_count": 1200,
      "following_count": 300
    }
  }
}
```

### 错误响应

#### 404 Not Found - 用户不存在
```json
{
  "success": false,
  "message": "用户不存在"
}
```

#### 500 Internal Server Error - 服务器错误
```json
{
  "success": false,
  "message": "获取用户信息失败"
}
```

---

## 字段说明

### 响应字段
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | UUID | 用户唯一标识 |
| nickname | String | 用户昵称 |
| avatar | String | 头像URL |
| bio | String | 个人简介 |
| created_at | DateTime | 注册时间 |
| stats | Object | 统计信息对象 |
| stats.works_count | Integer | 作品数量 |
| stats.followers_count | Integer | 粉丝数量 |
| stats.following_count | Integer | 关注数量 |
| is_following | Boolean | 当前用户是否关注该用户（仅登录时返回） |
| is_follower | Boolean | 该用户是否关注当前用户（仅登录时返回） |

---

## 业务规则

1. 不返回用户的手机号等隐私信息
2. 如果携带Token，返回关注关系信息
3. 如果未携带Token，不返回关注关系信息
4. 统计信息仅包含公开数据

---

## 使用场景

- 查看其他用户主页
- 点击用户头像查看详情
- 社交功能中的用户信息展示
- 用户搜索结果展示

---

## 注意事项

1. 不要暴露用户的敏感信息
2. 建议对访问频率进行限制
3. 可以添加缓存提高性能

---

## Postman测试

### 配置步骤
1. 创建新请求
2. 选择方法：`GET`
3. 输入URL：`http://localhost:3000/api/users/{userId}`
4. （可选）在Headers中添加：`Authorization: Bearer {accessToken}`
5. 点击`Send`发送请求

### 预期结果
- 状态码：200
- 返回用户公开信息
- 如果已登录，包含关注关系

---

## 相关接口

- [2.1 获取当前用户信息](./2.1-get-profile.md)
- [2.7 关注用户](./2.7-follow-user.md)
- [3.4 获取用户作品列表](./3.4-user-works.md)

---

## 更新记录

| 版本 | 日期 | 说明 |
|------|------|------|
| v1.0 | 2024-12-21 | 初始版本 |

---

**维护者**: AI Assistant
**最后更新**: 2024-12-21
