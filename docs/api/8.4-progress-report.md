# API 8.4 - è·å–å­¦ä¹ è¿›åº¦æŠ¥å‘Š

## æ¥å£ä¿¡æ¯

- **æ¥å£åç§°**: è·å–å­¦ä¹ è¿›åº¦æŠ¥å‘Š
- **è¯·æ±‚æ–¹æ³•**: GET
- **è¯·æ±‚è·¯å¾„**: `/api/assessment/report`
- **éœ€è¦è®¤è¯**: æ˜¯

---

## æ¥å£æè¿°

è·å–è¯¦ç»†çš„å­¦ä¹ è¿›åº¦æŠ¥å‘Šï¼ŒåŒ…æ‹¬å„ç§‘ç›®å­¦ä¹ æƒ…å†µã€çŸ¥è¯†ç‚¹æŒæ¡åº¦ã€å­¦ä¹ æ—¶é•¿ç»Ÿè®¡ã€è¿›æ­¥è¶‹åŠ¿ç­‰ç»¼åˆåˆ†ææ•°æ®ã€‚

---

## è¯·æ±‚å‚æ•°

### Headerå‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| Authorization | String | æ˜¯ | Bearer {accessToken} |

### Queryå‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| period | String | å¦ | æ—¶é—´å‘¨æœŸ | "week", "month", "quarter", "year" (é»˜è®¤month) |
| subject | String | å¦ | ç§‘ç›®ç­›é€‰ | "math", "chinese", "art" |

### è¯·æ±‚ç¤ºä¾‹

```http
GET /api/assessment/report?period=month
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

---

## å“åº”ç»“æœ

### æˆåŠŸå“åº” (200 OK)

```json
{
  "success": true,
  "message": "è·å–æŠ¥å‘ŠæˆåŠŸ",
  "data": {
    "period": "month",
    "startDate": "2024-11-22",
    "endDate": "2024-12-22",
    "overview": {
      "totalAssessments": 25,
      "totalQuestions": 250,
      "correctCount": 205,
      "accuracy": 0.82,
      "averageScore": 82,
      "totalTimeSpent": 7500,
      "studyDays": 20,
      "currentStreak": 5
    },
    "subjectProgress": [
      {
        "subject": "math",
        "assessmentCount": 10,
        "averageScore": 85,
        "accuracy": 0.85,
        "timeSpent": 3000,
        "improvement": "+5%",
        "level": "ä¼˜ç§€",
        "masteredTopics": 8,
        "totalTopics": 10
      },
      {
        "subject": "chinese",
        "assessmentCount": 8,
        "averageScore": 78,
        "accuracy": 0.78,
        "timeSpent": 2400,
        "improvement": "+3%",
        "level": "è‰¯å¥½",
        "masteredTopics": 6,
        "totalTopics": 10
      }
    ],
    "knowledgePointsAnalysis": [
      {
        "category": "æ•°å­¦",
        "topics": [
          {
            "name": "åŠ å‡æ³•",
            "mastery": 0.95,
            "level": "ä¼˜ç§€",
            "practiceCount": 50,
            "lastPractice": "2024-12-22"
          },
          {
            "name": "ä¹˜é™¤æ³•",
            "mastery": 0.75,
            "level": "è‰¯å¥½",
            "practiceCount": 30,
            "lastPractice": "2024-12-21"
          }
        ]
      }
    ],
    "scoreChart": {
      "labels": ["11-22", "11-29", "12-06", "12-13", "12-20"],
      "datasets": [
        {
          "subject": "math",
          "data": [75, 80, 82, 85, 88]
        },
        {
          "subject": "chinese",
          "data": [70, 72, 75, 78, 80]
        }
      ]
    },
    "achievements": [
      {
        "id": "achievement-001",
        "name": "æ•°å­¦è¾¾äºº",
        "description": "æ•°å­¦ç§‘ç›®è¿ç»­5æ¬¡ä¼˜ç§€",
        "icon": "ğŸ†",
        "earnedAt": "2024-12-20"
      }
    ],
    "weakPoints": [
      {
        "topic": "å‡ ä½•å›¾å½¢",
        "accuracy": 0.55,
        "suggestion": "éœ€è¦åŠ å¼ºç»ƒä¹ "
      }
    ],
    "suggestions": [
      "æ•°å­¦å­¦ä¹ è¿›æ­¥æ˜æ˜¾ï¼Œç»§ç»­ä¿æŒ",
      "å»ºè®®åŠ å¼ºå‡ ä½•å›¾å½¢ç›¸å…³çŸ¥è¯†ç‚¹çš„ç»ƒä¹ ",
      "ä¿æŒè‰¯å¥½çš„å­¦ä¹ ä¹ æƒ¯ï¼ŒåšæŒæ¯æ—¥å­¦ä¹ "
    ]
  }
}
```

### é”™è¯¯å“åº”

#### 400 Bad Request - å‚æ•°é”™è¯¯
```json
{
  "success": false,
  "message": "æ—¶é—´å‘¨æœŸå‚æ•°æ— æ•ˆ"
}
```

#### 401 Unauthorized - æœªæˆæƒ
```json
{
  "success": false,
  "message": "è¯·å…ˆç™»å½•"
}
```

#### 500 Internal Server Error - æœåŠ¡å™¨é”™è¯¯
```json
{
  "success": false,
  "message": "ç”ŸæˆæŠ¥å‘Šå¤±è´¥"
}
```

---

## å­—æ®µè¯´æ˜

### å“åº”å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| period | String | ç»Ÿè®¡å‘¨æœŸ |
| startDate | Date | å¼€å§‹æ—¥æœŸ |
| endDate | Date | ç»“æŸæ—¥æœŸ |
| overview | Object | æ€»è§ˆæ•°æ® |
| overview.totalAssessments | Number | è¯„ä¼°æ€»æ¬¡æ•° |
| overview.totalQuestions | Number | æ€»é¢˜æ•° |
| overview.correctCount | Number | ç­”å¯¹æ€»æ•° |
| overview.accuracy | Number | æ€»æ­£ç¡®ç‡ |
| overview.averageScore | Number | å¹³å‡åˆ† |
| overview.totalTimeSpent | Number | æ€»å­¦ä¹ æ—¶é•¿(ç§’) |
| overview.studyDays | Number | å­¦ä¹ å¤©æ•° |
| overview.currentStreak | Number | å½“å‰è¿ç»­å­¦ä¹ å¤©æ•° |
| subjectProgress | Array | å„ç§‘ç›®è¿›åº¦ |
| knowledgePointsAnalysis | Array | çŸ¥è¯†ç‚¹åˆ†æ |
| scoreChart | Object | æˆç»©è¶‹åŠ¿å›¾æ•°æ® |
| achievements | Array | è·å¾—çš„æˆå°± |
| weakPoints | Array | è–„å¼±ç¯èŠ‚ |
| suggestions | Array | å­¦ä¹ å»ºè®® |

---

## ä¸šåŠ¡è§„åˆ™

1. é»˜è®¤ç»Ÿè®¡æœ€è¿‘ä¸€ä¸ªæœˆæ•°æ®
2. æ”¯æŒå‘¨ã€æœˆã€å­£ã€å¹´ç­‰æ—¶é—´å‘¨æœŸ
3. è‡ªåŠ¨è¯†åˆ«è–„å¼±çŸ¥è¯†ç‚¹
4. è®¡ç®—å­¦ä¹ è¿›æ­¥è¶‹åŠ¿
5. ç”Ÿæˆä¸ªæ€§åŒ–å­¦ä¹ å»ºè®®
6. ç»Ÿè®¡å­¦ä¹ è¿ç»­å¤©æ•°
7. åŒ…å«æˆå°±è§£é”è®°å½•

---

## ä½¿ç”¨åœºæ™¯

- æŸ¥çœ‹æ•´ä½“å­¦ä¹ è¿›åº¦
- åˆ†æå„ç§‘ç›®æŒæ¡æƒ…å†µ
- äº†è§£çŸ¥è¯†ç‚¹è–„å¼±ç¯èŠ‚
- è·å–å­¦ä¹ æ”¹è¿›å»ºè®®
- æŸ¥çœ‹å­¦ä¹ æˆå°±
- å¯¼å‡ºå­¦ä¹ æŠ¥å‘Š

---

## æ³¨æ„äº‹é¡¹

1. æŠ¥å‘Šæ•°æ®å®æ—¶è®¡ç®—ï¼Œå¯èƒ½éœ€è¦å‡ ç§’é’Ÿ
2. å»ºè®®å®šæœŸæŸ¥çœ‹æŠ¥å‘Šè°ƒæ•´å­¦ä¹ è®¡åˆ’
3. è–„å¼±ç¯èŠ‚ä¼šæä¾›é’ˆå¯¹æ€§å»ºè®®
4. æˆç»©è¶‹åŠ¿åŸºäºæ—¶é—´å‘¨æœŸå†…æ‰€æœ‰è¯„ä¼°

---

## Postmanæµ‹è¯•

### é…ç½®æ­¥éª¤
1. åˆ›å»ºæ–°è¯·æ±‚
2. é€‰æ‹©æ–¹æ³•ï¼š`GET`
3. è¾“å…¥URLï¼š`http://localhost:3000/api/assessment/report?period=month`
4. åœ¨Headersä¸­æ·»åŠ ï¼š
   - Key: `Authorization`
   - Value: `Bearer {ä½ çš„accessToken}`
5. ç‚¹å‡»`Send`å‘é€è¯·æ±‚

### é¢„æœŸç»“æœ
- çŠ¶æ€ç ï¼š200
- è¿”å›è¯¦ç»†çš„å­¦ä¹ è¿›åº¦æŠ¥å‘Š
- åŒ…å«å¤šç»´åº¦åˆ†ææ•°æ®

---

## ç›¸å…³æ¥å£

- [8.1 è·å–è¯„ä¼°é¢˜ç›®](./8.1-get-questions.md)
- [8.3 è·å–è¯„ä¼°å†å²](./8.3-assessment-history.md)
- [8.5 è·å–èƒ½åŠ›é›·è¾¾å›¾æ•°æ®](./8.5-skill-radar.md)

---

## æ›´æ–°è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | è¯´æ˜ |
|------|------|------|
| v1.0 | 2024-12-22 | åˆå§‹ç‰ˆæœ¬ |

---

**ç»´æŠ¤è€…**: AI Assistant
**æœ€åæ›´æ–°**: 2024-12-22
