# API 1.3 - 退出登录

## 接口信息

- **接口名称**: 退出登录
- **请求方法**: POST
- **请求路径**: `/api/auth/logout`
- **需要认证**: 是

---

## 接口描述

用户退出登录。由于JWT是无状态的，主要由客户端删除Token实现退出。

---

## 请求参数

### Header参数
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| Authorization | String | 是 | Bearer {accessToken} |
| Content-Type | String | 是 | application/json |

### Body参数
无

### 请求示例

```bash
POST /api/auth/logout
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

---

## 响应结果

### 成功响应 (200 OK)

```json
{
  "success": true,
  "message": "退出登录成功",
  "data": null
}
```

### 错误响应

#### 401 Unauthorized - Token无效
```json
{
  "success": false,
  "message": "请先登录"
}
```

#### 401 Unauthorized - Token过期
```json
{
  "success": false,
  "message": "登录已过期，请重新登录"
}
```

---

## 业务规则

1. 验证Token有效性
2. JWT为无状态Token，服务端只做验证
3. 客户端需要删除本地存储的Token
4. 如需实现Token黑名单，可在服务端添加黑名单机制

---

## 客户端操作

退出登录后，客户端应该：
1. 删除本地存储的accessToken
2. 删除本地存储的refreshToken
3. 清除用户相关的缓存数据
4. 重定向到登录页面

---

## Postman测试

### 配置步骤
1. 方法：`POST`
2. URL：`http://localhost:3000/api/auth/logout`
3. Headers标签
4. 添加：`Authorization: Bearer {{accessToken}}`
5. 发送请求

### 前置条件
需要先调用登录接口获取accessToken

---

## 相关接口

- [1.2 用户登录](./1.2-login.md)
- [1.1 用户注册](./1.1-register.md)
- [1.4 刷新令牌](./1.4-refresh-token.md)

---

**维护者**: AI Assistant
**最后更新**: 2024-12-21
