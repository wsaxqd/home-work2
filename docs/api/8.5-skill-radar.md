# API 8.5 - 获取能力雷达图数据

## 接口信息

- **接口名称**: 获取能力雷达图数据
- **请求方法**: GET
- **请求路径**: `/api/assessment/radar`
- **需要认证**: 是

---

## 接口描述

获取用户多维度能力雷达图数据，用于可视化展示用户在各个知识领域和能力维度的掌握情况。

---

## 请求参数

### Header参数
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| Authorization | String | 是 | Bearer {accessToken} |

### Query参数
| 参数名 | 类型 | 必填 | 说明 | 示例 |
|--------|------|------|------|------|
| dimension | String | 否 | 维度类型 | "subject", "ability", "comprehensive" (默认comprehensive) |

### 请求示例

```http
GET /api/assessment/radar?dimension=comprehensive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

---

## 响应结果

### 成功响应 (200 OK)

```json
{
  "success": true,
  "message": "获取雷达图数据成功",
  "data": {
    "dimension": "comprehensive",
    "lastUpdate": "2024-12-22T10:30:00.000Z",
    "radarData": {
      "labels": [
        "数学能力",
        "语言能力",
        "艺术创造",
        "逻辑思维",
        "记忆力",
        "专注力"
      ],
      "datasets": [
        {
          "label": "当前能力",
          "data": [85, 78, 72, 88, 80, 75],
          "maxValue": 100
        },
        {
          "label": "同龄平均",
          "data": [75, 75, 70, 75, 75, 70],
          "maxValue": 100
        }
      ]
    },
    "detailScores": [
      {
        "dimension": "数学能力",
        "score": 85,
        "maxScore": 100,
        "level": "优秀",
        "percentile": 82,
        "subDimensions": [
          {
            "name": "计算能力",
            "score": 90,
            "level": "优秀"
          },
          {
            "name": "几何空间",
            "score": 80,
            "level": "良好"
          }
        ],
        "improvement": "+8%",
        "trend": "上升"
      },
      {
        "dimension": "语言能力",
        "score": 78,
        "maxScore": 100,
        "level": "良好",
        "percentile": 75,
        "subDimensions": [
          {
            "name": "阅读理解",
            "score": 82,
            "level": "良好"
          },
          {
            "name": "写作表达",
            "score": 74,
            "level": "良好"
          }
        ],
        "improvement": "+5%",
        "trend": "上升"
      }
    ],
    "strengths": [
      {
        "dimension": "逻辑思维",
        "score": 88,
        "description": "逻辑推理能力出色，擅长问题分析"
      },
      {
        "dimension": "数学能力",
        "score": 85,
        "description": "数学基础扎实，计算准确"
      }
    ],
    "weaknesses": [
      {
        "dimension": "艺术创造",
        "score": 72,
        "description": "艺术创作能力有待提升",
        "suggestion": "建议多参与绘画、音乐等创作活动"
      }
    ],
    "overallScore": 80,
    "overallLevel": "良好",
    "percentile": 78,
    "recommendations": [
      "数学和逻辑思维是你的优势，继续保持",
      "可以尝试更多艺术创作，培养创造力",
      "建议平衡发展各项能力"
    ]
  }
}
```

### 错误响应

#### 400 Bad Request - 参数错误
```json
{
  "success": false,
  "message": "维度类型参数无效"
}
```

#### 401 Unauthorized - 未授权
```json
{
  "success": false,
  "message": "请先登录"
}
```

#### 404 Not Found - 数据不足
```json
{
  "success": false,
  "message": "评估数据不足，请先完成至少3次评估"
}
```

#### 500 Internal Server Error - 服务器错误
```json
{
  "success": false,
  "message": "获取数据失败"
}
```

---

## 字段说明

### 响应字段
| 字段名 | 类型 | 说明 |
|--------|------|------|
| dimension | String | 维度类型 |
| lastUpdate | DateTime | 最后更新时间 |
| radarData | Object | 雷达图数据 |
| radarData.labels | Array | 维度标签 |
| radarData.datasets | Array | 数据集 |
| detailScores | Array | 详细分数 |
| detailScores[].dimension | String | 能力维度 |
| detailScores[].score | Number | 分数 |
| detailScores[].level | String | 等级 |
| detailScores[].percentile | Number | 百分位(0-100) |
| detailScores[].subDimensions | Array | 子维度 |
| detailScores[].improvement | String | 进步幅度 |
| detailScores[].trend | String | 趋势(上升/下降/平稳) |
| strengths | Array | 优势领域 |
| weaknesses | Array | 薄弱领域 |
| overallScore | Number | 综合得分 |
| overallLevel | String | 综合等级 |
| percentile | Number | 综合百分位 |
| recommendations | Array | 建议 |

---

## 业务规则

1. 需要至少3次评估记录才能生成雷达图
2. 数据基于最近30天的评估结果
3. 包含与同龄用户的对比数据
4. 自动识别优势和薄弱领域
5. 提供百分位排名
6. 支持多种维度视图
7. 每日更新一次数据

---

## 维度类型说明

### subject (学科维度)
- 数学
- 语文
- 英语
- 艺术
- 音乐

### ability (能力维度)
- 逻辑思维
- 记忆力
- 专注力
- 创造力
- 表达能力

### comprehensive (综合维度)
结合学科和能力的综合评估

---

## 使用场景

- 可视化展示能力分布
- 了解自身优劣势
- 制定个性化学习计划
- 与同龄人对比
- 跟踪能力发展趋势

---

## 注意事项

1. 雷达图数据每日更新一次
2. 需要足够的评估数据才能准确反映能力
3. 百分位基于同年龄段用户数据
4. 建议定期查看了解能力变化

---

## Postman测试

### 配置步骤
1. 创建新请求
2. 选择方法：`GET`
3. 输入URL：`http://localhost:3000/api/assessment/radar?dimension=comprehensive`
4. 在Headers中添加：
   - Key: `Authorization`
   - Value: `Bearer {你的accessToken}`
5. 点击`Send`发送请求

### 预期结果
- 状态码：200
- 返回雷达图数据
- 包含多维度能力评估

---

## 相关接口

- [8.2 提交评估](./8.2-submit-assessment.md)
- [8.3 获取评估历史](./8.3-assessment-history.md)
- [8.4 获取学习进度报告](./8.4-progress-report.md)

---

## 更新记录

| 版本 | 日期 | 说明 |
|------|------|------|
| v1.0 | 2024-12-22 | 初始版本 |

---

**维护者**: AI Assistant
**最后更新**: 2024-12-22
