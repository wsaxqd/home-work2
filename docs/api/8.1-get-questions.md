# API 8.1 - 获取评估题目

## 接口信息

- **接口名称**: 获取评估题目
- **请求方法**: GET
- **请求路径**: `/api/assessment/questions`
- **需要认证**: 是

---

## 接口描述

获取知识评估题目，支持按科目、难度、题目数量筛选。系统会智能推荐适合用户当前学习进度的题目。

---

## 请求参数

### Header参数
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| Authorization | String | 是 | Bearer {accessToken} |

### Query参数
| 参数名 | 类型 | 必填 | 说明 | 示例 |
|--------|------|------|------|------|
| subject | String | 否 | 科目类型 | "math", "chinese", "art", "music" |
| difficulty | String | 否 | 难度等级 | "easy", "medium", "hard" |
| count | Number | 否 | 题目数量(默认10，最多50) | 10 |
| type | String | 否 | 题目类型 | "single_choice", "multiple_choice", "judge" |

### 请求示例

```http
GET /api/assessment/questions?subject=math&difficulty=medium&count=10
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

---

## 响应结果

### 成功响应 (200 OK)

```json
{
  "success": true,
  "message": "获取题目成功",
  "data": {
    "assessmentId": "550e8400-e29b-41d4-a716-446655440000",
    "subject": "math",
    "difficulty": "medium",
    "totalQuestions": 10,
    "timeLimit": 600,
    "questions": [
      {
        "id": "q-001",
        "type": "single_choice",
        "content": "2 + 3 = ?",
        "options": [
          { "key": "A", "value": "4" },
          { "key": "B", "value": "5" },
          { "key": "C", "value": "6" },
          { "key": "D", "value": "7" }
        ],
        "score": 10
      },
      {
        "id": "q-002",
        "type": "multiple_choice",
        "content": "以下哪些是偶数？",
        "options": [
          { "key": "A", "value": "1" },
          { "key": "B", "value": "2" },
          { "key": "C", "value": "3" },
          { "key": "D", "value": "4" }
        ],
        "score": 15
      }
    ]
  }
}
```

### 错误响应

#### 400 Bad Request - 参数错误
```json
{
  "success": false,
  "message": "题目数量超出限制，最多50题"
}
```

#### 401 Unauthorized - 未授权
```json
{
  "success": false,
  "message": "请先登录"
}
```

#### 500 Internal Server Error - 服务器错误
```json
{
  "success": false,
  "message": "获取题目失败，请稍后重试"
}
```

---

## 字段说明

### 响应字段
| 字段名 | 类型 | 说明 |
|--------|------|------|
| assessmentId | UUID | 本次评估的唯一标识 |
| subject | String | 科目类型 |
| difficulty | String | 难度等级 |
| totalQuestions | Number | 题目总数 |
| timeLimit | Number | 建议答题时长(秒) |
| questions | Array | 题目列表 |
| questions[].id | String | 题目ID |
| questions[].type | String | 题目类型 |
| questions[].content | String | 题目内容 |
| questions[].options | Array | 选项列表 |
| questions[].score | Number | 题目分值 |

---

## 业务规则

1. 默认返回10道题目，最多不超过50题
2. 未指定科目时，系统根据用户学习进度智能推荐
3. 未指定难度时，系统根据用户历史表现推荐合适难度
4. assessmentId需要在提交答案时使用
5. timeLimit为建议时长，不强制限制
6. 题目顺序每次随机
7. 不返回正确答案，需提交后才能看到

---

## 使用场景

- 开始知识评估测试
- 进行阶段性学习检测
- 获取练习题目
- 智能学习推荐

---

## 注意事项

1. 获取题目后应立即开始答题，超时可能需要重新获取
2. assessmentId对应本次评估，提交答案时必须携带
3. 题目顺序随机，不应依赖固定顺序
4. 建议在规定时间内完成

---

## Postman测试

### 配置步骤
1. 创建新请求
2. 选择方法：`GET`
3. 输入URL：`http://localhost:3000/api/assessment/questions?subject=math&count=10`
4. 在Headers中添加：
   - Key: `Authorization`
   - Value: `Bearer {你的accessToken}`
5. 点击`Send`发送请求

### 预期结果
- 状态码：200
- 返回题目列表和assessmentId
- 题目数量符合请求参数

---

## 相关接口

- [8.2 提交评估](./8.2-submit-assessment.md)
- [8.3 获取评估历史](./8.3-assessment-history.md)
- [8.4 获取学习进度报告](./8.4-progress-report.md)

---

## 更新记录

| 版本 | 日期 | 说明 |
|------|------|------|
| v1.0 | 2024-12-22 | 初始版本 |

---

**维护者**: AI Assistant
**最后更新**: 2024-12-22
