# ============================================================
# 启蒙之光 - 开发环境变量配置
# 文件：.env.development
# 用途：开发环境专用配置（docker-compose.dev.yml 读取）
# ============================================================
#
# 🔒 安全提示：
# - 本文件包含开发环境配置，密码可以简单
# - 请勿将包含真实生产密码的文件提交到 Git
# - 生产环境请使用 .env.production
#
# ============================================================

# ==================== 项目基础配置 ====================
# 项目名称（用于容器和网络命名）
COMPOSE_PROJECT_NAME=qmzg

# Node.js 版本
NODE_VERSION=18-alpine

# ==================== 数据库配置 ====================
# PostgreSQL 数据库名称
DB_NAME=qmzg

# 数据库用户名
DB_USER=admin

# 数据库密码（开发环境，可以使用简单密码）
DB_PASSWORD=dev_password_123

# 数据库端口（宿主机映射端口）
DB_PORT=5432

# 数据库性能参数（可选）
DB_SHARED_BUFFERS=128MB
DB_MAX_CONNECTIONS=100

# ==================== 后端服务配置 ====================
# 后端服务端口
SERVER_PORT=3001

# JWT 密钥（开发环境使用固定密钥，方便调试）
JWT_SECRET=dev-jwt-secret-key-for-development-only
JWT_REFRESH_SECRET=dev-jwt-refresh-secret-key-for-development

# ==================== 前端服务配置 ====================
# 前端应用端口（Vite 开发服务器）
APP_PORT=5173

# API 地址（前端访问后端的地址）
VITE_API_URL=http://localhost:3001

# CORS 跨域配置（允许前端访问后端）
CORS_ORIGIN=http://localhost:5173

# ==================== Nginx 静态服务配置 ====================
# Nginx 静态文件服务端口
NGINX_PORT=8080

# ==================== Dify AI 服务配置 ====================
# Dify API 基础地址
DIFY_API_URL=http://localhost/v1

# Dify 应用密钥（请替换为实际密钥）
DIFY_CHAT_APP_KEY=app-your-chat-app-key
DIFY_STORY_APP_KEY=app-your-story-app-key
DIFY_EMOTION_APP_KEY=app-your-emotion-app-key
DIFY_TUTORING_APP_KEY=app-your-tutoring-app-key
DIFY_TUTORING_EVALUATE_APP_KEY=app-your-evaluate-app-key
DIFY_TUTORING_SUMMARY_APP_KEY=app-your-summary-app-key

# ==================== Redis 配置（可选） ====================
# Redis 端口
# REDIS_PORT=6379

# Redis 密码（可选，开发环境可以留空）
# REDIS_PASSWORD=

# ==================== 日志配置 ====================
# 日志级别（开发环境建议使用 debug）
LOG_LEVEL=debug

# ==================== 文件上传配置 ====================
# 文件上传大小限制（字节，20MB）
MAX_FILE_SIZE=20971520

# 文件上传目录
UPLOAD_DIR=./uploads

# ============================================================
# 📝 使用说明：
#
# 1. 复制本文件为实际使用的配置：
#    cp .env.development.example .env.development
#
# 2. 根据实际情况修改配置项（特别是 Dify API 密钥）
#
# 3. Docker Compose 会自动读取此文件：
#    docker-compose -f docker-compose.dev.yml --env-file .env.development up -d
#
# 4. 如果文件名为 .env.development，需要显式指定：
#    docker-compose -f docker-compose.dev.yml --env-file .env.development up -d
#
# 5. 如果文件名为 .env，Docker Compose 会自动读取：
#    docker-compose -f docker-compose.dev.yml up -d
#
# ============================================================
# 🔍 环境变量优先级：
#
# 1. Shell 环境变量（最高优先级）
# 2. docker-compose.yml 中的 environment
# 3. .env 文件（本文件）
# 4. Dockerfile 中的 ENV
# 5. 默认值（最低优先级）
#
# ============================================================
# 🎯 快速配置检查清单：
#
# ✅ 数据库密码已设置
# ✅ JWT 密钥已设置
# ⚠️  Dify API 密钥需要配置（如果使用 AI 功能）
# ✅ 端口没有冲突
# ✅ 项目名称已设置
#
# ============================================================
