<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ¢ç´¢å²› - å¯è’™ä¹‹å…‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e0f7ff 0%, #d4f0ff 100%);
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 0;
            position: relative;
            min-height: 100vh;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: linear-gradient(135deg, #4a90e2 0%, #8e44ad 100%);
            color: white;
            border-radius: 0 0 20px 20px;
        }
        
        .back-button {
            font-size: 24px;
            cursor: pointer;
        }
        
        .page-title {
            font-size: 20px;
            text-align: center;
            flex: 1;
        }
        
        .main-content {
            padding: 20px;
            overflow-y: auto;
            max-height: calc(100vh - 140px);
        }
        
        .section-title {
            font-size: 18px;
            margin: 20px 0 15px;
            color: #4a90e2;
            display: flex;
            align-items: center;
        }
        
        .section-title::before {
            content: "";
            display: inline-block;
            width: 5px;
            height: 20px;
            background: #4a90e2;
            margin-right: 10px;
            border-radius: 3px;
        }
        
        /* æ¢ç´¢å²›åœ°å›¾æ ·å¼ */
        .explore-map {
            background: #e6f7ff;
            border-radius: 20px;
            padding: 20px;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
            border: 2px dashed #4a90e2;
        }
        
        .map-title {
            text-align: center;
            font-size: 18px;
            margin-bottom: 15px;
            color: #4a90e2;
        }
        
        .map-areas {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .map-area {
            background: white;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .map-area:hover {
            transform: translateY(-5px);
        }
        
        .area-icon {
            font-size: 30px;
            margin-bottom: 10px;
            color: #4a90e2;
        }
        
        .area-title {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .area-desc {
            font-size: 12px;
            color: #666;
        }
        
        /* æ¸¸æˆå¡ç‰‡æ ·å¼ */
        .game-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .game-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
        }
        
        .game-image {
            height: 100px;
            background: linear-gradient(135deg, #4a90e2 0%, #8e44ad 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            color: white;
        }
        
        .game-content {
            padding: 15px;
        }
        
        .game-title {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .game-desc {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
        }
        
        .game-progress {
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-bar {
            height: 100%;
            background: #4a90e2;
            border-radius: 3px;
        }
        
        .game-stats {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #666;
        }
        
        /* æ—¶é—´è½´æ ·å¼ */
        .timeline-container {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .timeline::before {
            content: "";
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #4a90e2;
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 20px;
        }
        
        .timeline-item::before {
            content: "";
            position: absolute;
            left: -23px;
            top: 5px;
            width: 12px;
            height: 12px;
            background: #4a90e2;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 0 2px #4a90e2;
        }
        
        .timeline-year {
            font-weight: bold;
            color: #4a90e2;
            margin-bottom: 5px;
        }
        
        .timeline-content {
            background: #f0f9ff;
            padding: 10px;
            border-radius: 10px;
            font-size: 14px;
        }
        
        /* é—®ç­”æ ·å¼ */
        .qa-section {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .qa-title {
            font-size: 16px;
            margin-bottom: 15px;
            color: #4a90e2;
            display: flex;
            align-items: center;
        }
        
        .qa-title::before {
            content: "?";
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 25px;
            height: 25px;
            background: #4a90e2;
            color: white;
            border-radius: 50%;
            margin-right: 10px;
            font-size: 14px;
        }
        
        .qa-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .question {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .answer {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
        }
        
        .ask-button {
            display: block;
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #4a90e2 0%, #8e44ad 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 15px;
            transition: transform 0.2s;
        }
        
        .ask-button:hover {
            transform: scale(1.02);
        }
        
        .bottom-nav {
            display: flex;
            justify-content: space-around;
            background: white;
            padding: 15px 0;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -4px 12px rgba(0,0,0,0.05);
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 480px;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }
        
        .nav-icon {
            font-size: 24px;
            margin-bottom: 5px;
            color: #999;
        }
        
        .nav-item.active .nav-icon {
            color: #4a90e2;
        }
        
        .nav-text {
            font-size: 12px;
            color: #999;
        }
        
        .nav-item.active .nav-text {
            color: #4a90e2;
            font-weight: bold;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 480px) {
            .container {
                padding-bottom: 70px;
            }
            
            .game-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="back-button" onclick="goBack()">â†</div>
            <div class="page-title">AIæ¢ç´¢å²›</div>
            <div style="width: 24px;"></div> <!-- å ä½ä¿æŒå¯¹ç§° -->
        </div>
        
        <div class="main-content">
            <div class="explore-map">
                <div class="map-title">æ¢ç´¢AIå¥‡å¦™ä¸–ç•Œ</div>
                <div class="map-areas">
                    <div class="map-area" onclick="enterArea('history')">
                        <div class="area-icon">ğŸ“œ</div>
                        <div class="area-title">AIå‘å±•åšç‰©é¦†</div>
                        <div class="area-desc">ç©¿è¶Šæ—¶ç©ºäº†è§£AIå‘å±•</div>
                    </div>
                <div class="map-area" onclick="enterArea('games')">
                    <div class="area-icon">ğŸ®</div>
                    <div class="area-title">AIæ¸¸æˆå®éªŒå®¤</div>
                    <div class="area-desc">é€šè¿‡æ¸¸æˆå­¦ä¹ AIåŸç†</div>
                </div>
                <div class="map-area" onclick="navigateTo('assessment.html')">
                    <div class="area-icon">ğŸ§ </div>
                    <div class="area-title">AIæ¢ç´¢å²›</div>
                    <div class="area-desc">å‘ç°AIä¸–ç•Œçš„å¥¥ç§˜</div>
                </div>
                <div class="map-area" onclick="enterArea('programming')">
                        <div class="area-icon">ğŸ’»</div>
                        <div class="area-title">åˆ›æ„ç¼–ç¨‹å·¥åŠ</div>
                        <div class="area-desc">åŠ¨æ‰‹åˆ›é€ ä½ çš„AIç¨‹åº</div>
                    </div>
                    <div class="map-area" onclick="enterArea('qa')">
                        <div class="area-icon">â“</div>
                        <div class="area-title">AIåä¸‡ä¸ªä¸ºä»€ä¹ˆ</div>
                        <div class="area-desc">è§£ç­”ä½ çš„AIç–‘é—®</div>
                    </div>
                </div>
            </div>
            
            <div class="section-title">AIå†å²é•¿æ²³</div>
            <div class="timeline-container">
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-year">1950å¹´</div>
                        <div class="timeline-content">å›¾çµæå‡º"å›¾çµæµ‹è¯•"ï¼Œå¼€å¯äº†äººå·¥æ™ºèƒ½çš„ç ”ç©¶</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-year">1956å¹´</div>
                        <div class="timeline-content">è¾¾ç‰¹èŒ…æ–¯ä¼šè®®ï¼Œäººå·¥æ™ºèƒ½æ­£å¼æˆä¸ºä¸€é—¨å­¦ç§‘</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-year">1997å¹´</div>
                        <div class="timeline-content">æ·±è“å‡»è´¥å›½é™…è±¡æ£‹ä¸–ç•Œå† å†›å¡æ–¯å¸•ç½—å¤«</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-year">2012å¹´</div>
                        <div class="timeline-content">æ·±åº¦å­¦ä¹ åœ¨å›¾åƒè¯†åˆ«é¢†åŸŸå–å¾—çªç ´æ€§è¿›å±•</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-year">2016å¹´</div>
                        <div class="timeline-content">AlphaGoå‡»è´¥å›´æ£‹ä¸–ç•Œå† å†›æä¸–çŸ³</div>
                    </div>
                </div>
            </div>
            
            <div class="section-title">AIæ¸¸æˆå®éªŒå®¤</div>
            <div class="game-grid">
                <div class="game-card" onclick="playGame('image-recognition')">
                    <div class="game-image">ğŸ–¼ï¸</div>
                    <div class="game-content">
                        <div class="game-title">çŒœçŒœæˆ‘æ˜¯è°</div>
                        <div class="game-desc">ç”¨AIè¯†åˆ«å›¾ç‰‡ä¸­çš„ç‰©ä½“</div>
                        <div class="game-progress">
                            <div class="progress-bar" style="width: 65%"></div>
                        </div>
                        <div class="game-stats">
                            <span>å·²å®Œæˆ65%</span>
                            <span>â­4.8</span>
                        </div>
                    </div>
                </div>
                <div class="game-card" onclick="playGame('expression')">
                    <div class="game-image">ğŸ˜Š</div>
                    <div class="game-content">
                        <div class="game-title">è¡¨æƒ…æ¨¡ä»¿ç§€</div>
                        <div class="game-desc">è®©AIè¯†åˆ«ä½ çš„è¡¨æƒ…</div>
                        <div class="game-progress">
                            <div class="progress-bar" style="width: 30%"></div>
                        </div>
                        <div class="game-stats">
                            <span>å·²å®Œæˆ30%</span>
                            <span>â­4.6</span>
                        </div>
                    </div>
                </div>
                <div class="game-card" onclick="playGame('training')">
                    <div class="game-image">ğŸ‘¾</div>
                    <div class="game-content">
                        <div class="game-title">è®­ç»ƒæˆ‘çš„å°æ€ªå…½</div>
                        <div class="game-desc">æ•™AIè¯†åˆ«ä¸åŒé¢œè‰²</div>
                        <div class="game-progress">
                            <div class="progress-bar" style="width: 80%"></div>
                        </div>
                        <div class="game-stats">
                            <span>å·²å®Œæˆ80%</span>
                            <span>â­4.9</span>
                        </div>
                    </div>
                </div>
                <div class="game-card" onclick="playGame('programming')">
                    <div class="game-image">ğŸ§©</div>
                    <div class="game-content">
                        <div class="game-title">ç¼–ç¨‹æ€ç»´æŒ‘æˆ˜</div>
                        <div class="game-desc">å­¦ä¹ é¡ºåºå’Œå¾ªç¯æ¦‚å¿µ</div>
                        <div class="game-progress">
                            <div class="progress-bar" style="width: 45%"></div>
                        </div>
                        <div class="game-stats">
                            <span>å·²å®Œæˆ45%</span>
                            <span>â­4.7</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section-title">AIåä¸‡ä¸ªä¸ºä»€ä¹ˆ</div>
            <div class="qa-section">
                <div class="qa-title">çƒ­é—¨é—®é¢˜</div>
                <div class="qa-item">
                    <div class="question">AIæ˜¯æ€ä¹ˆè®¤å‡ºå›¾ç‰‡é‡Œæ˜¯ä»€ä¹ˆçš„ï¼Ÿ</div>
                    <div class="answer">AIé€šè¿‡å­¦ä¹ æˆåƒä¸Šä¸‡å¼ å¸¦æ ‡ç­¾çš„å›¾ç‰‡ï¼Œæ‰¾å‡ºä¸åŒç‰©ä½“çš„ç‰¹å¾ï¼Œå°±åƒä½ å­¦ä¹ è®¤è¯†æ–°äº‹ç‰©ä¸€æ ·ï¼</div>
                </div>
                <div class="qa-item">
                    <div class="question">ç¬¬ä¸€ä¸ªæœºå™¨äººæ˜¯è°å‘æ˜çš„ï¼Ÿ</div>
                    <div class="answer">æœ€æ—©çš„æœºå™¨äººæ¦‚å¿µå¯ä»¥è¿½æº¯åˆ°å¤å¸Œè…Šï¼Œä½†ç°ä»£æ„ä¹‰ä¸Šçš„ç¬¬ä¸€ä¸ªå¯ç¼–ç¨‹æœºå™¨äººæ˜¯ä¹”æ²»Â·å¾·æ²ƒå°”åœ¨1954å¹´å‘æ˜çš„ã€‚</div>
                </div>
                <div class="qa-item">
                    <div class="question">AIä¼šåšæ¢¦å—ï¼Ÿ</div>
                    <div class="answer">AIä¸ä¼šåƒäººç±»ä¸€æ ·åšæ¢¦ï¼Œä½†å¯ä»¥é€šè¿‡ç”Ÿæˆå¯¹æŠ—ç½‘ç»œåˆ›é€ å…¨æ–°çš„å›¾åƒå’Œå†…å®¹ï¼Œæœ‰ç‚¹åƒ"ç™½æ—¥æ¢¦"å“¦ï¼</div>
                </div>
                <button class="ask-button" onclick="askQuestion()">å‘å°å…‰æé—®</button>
            </div>

            <div class="section-title">AIçŸ¥è¯†å°è¯¾å ‚</div>
            <div class="qa-section">
                <div class="qa-title">ä»Šæ—¥æ¨è</div>
                <div class="qa-item">
                    <div class="question">ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ</div>
                    <div class="answer">æœºå™¨å­¦ä¹ å°±åƒæ•™å°æœ‹å‹è®¤å­—ä¸€æ ·ï¼é€šè¿‡çœ‹å¾ˆå¤šä¾‹å­ï¼ŒAIå¯ä»¥è‡ªå·±å­¦ä¼šè¯†åˆ«å’Œåˆ†ç±»ä¸œè¥¿ï¼Œè€Œä¸éœ€è¦äººç±»ä¸€æ­¥æ­¥æ•™å®ƒã€‚</div>
                </div>
                <div class="qa-item">
                    <div class="question">ç¥ç»ç½‘ç»œæ˜¯ä»€ä¹ˆï¼Ÿ</div>
                    <div class="answer">ç¥ç»ç½‘ç»œæ¨¡ä»¿äººç±»å¤§è„‘çš„å·¥ä½œæ–¹å¼ï¼å°±åƒæˆ‘ä»¬å¤§è„‘é‡Œæœ‰å¾ˆå¤šç¥ç»å…ƒäº’ç›¸è¿æ¥ï¼ŒAIçš„ç¥ç»ç½‘ç»œä¹Ÿæœ‰å¾ˆå¤š"äººå·¥ç¥ç»å…ƒ"ä¸€èµ·å·¥ä½œã€‚</div>
                </div>
                <div class="qa-item">
                    <div class="question">AIèƒ½å¸®æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ</div>
                    <div class="answer">AIå¯ä»¥å¸®æˆ‘ä»¬è¯†åˆ«å›¾ç‰‡ã€ç¿»è¯‘è¯­è¨€ã€æ¨èéŸ³ä¹ã€ç©æ¸¸æˆã€è¾…åŠ©å­¦ä¹ ï¼Œç”šè‡³å¸®åŠ©åŒ»ç”Ÿè¯Šæ–­ç–¾ç—…ï¼å®ƒæ˜¯æˆ‘ä»¬çš„å¥½å¸®æ‰‹ã€‚</div>
                </div>
            </div>

            <div class="section-title">è¶£å‘³AIå®éªŒ</div>
            <div class="game-grid">
                <div class="game-card" onclick="navigateTo('quiz-game.html')">
                    <div class="game-image">ğŸ¯</div>
                    <div class="game-content">
                        <div class="game-title">AIçŸ¥è¯†é—®ç­”</div>
                        <div class="game-desc">æµ‹è¯•ä½ å¯¹AIçš„äº†è§£</div>
                        <div class="game-progress">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                        <div class="game-stats">
                            <span>ç«‹å³å¼€å§‹</span>
                            <span>ğŸ†•</span>
                        </div>
                    </div>
                </div>
                <div class="game-card" onclick="alert('AIç»˜ç”»åˆ›ä½œå³å°†ä¸Šçº¿ï¼')">
                    <div class="game-image">ğŸ¨</div>
                    <div class="game-content">
                        <div class="game-title">AIç»˜ç”»åŠ©æ‰‹</div>
                        <div class="game-desc">è®©AIå¸®ä½ å®Œæˆç”»ä½œ</div>
                        <div class="game-progress">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                        <div class="game-stats">
                            <span>å³å°†ä¸Šçº¿</span>
                            <span>âœ¨</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="bottom-nav">
            <div class="nav-item" onclick="navigateTo('index.html')">
                <div class="nav-icon">ğŸ </div>
                <div class="nav-text">é¦–é¡µ</div>
            </div>
            <div class="nav-item active" onclick="navigateTo('explore.html')">
                <div class="nav-icon">ğŸ”</div>
                <div class="nav-text">æ¢ç´¢</div>
            </div>
            <div class="nav-item" onclick="navigateTo('create.html')">
                <div class="nav-icon">ğŸ¨</div>
                <div class="nav-text">åˆ›ä½œ</div>
            </div>
            <div class="nav-item" onclick="navigateTo('mind-garden.html')">
                <div class="nav-icon">ğŸ’</div>
                <div class="nav-text">å¿ƒçµ</div>
            </div>
            <div class="nav-item" onclick="navigateTo('profile.html')">
                <div class="nav-icon">ğŸ‘¤</div>
                <div class="nav-text">æˆ‘çš„</div>
            </div>
        </div>
    </div>

    <script src="navigation-template.js"></script>
    <script>
        const API_BASE = 'http://localhost:3000/api';

        function goBack() {
            // æ£€æŸ¥æ˜¯å¦å¯ä»¥å®‰å…¨åœ°è¿”å›
            const documentReferrer = document.referrer;
            const origin = window.location.origin;

            // å¦‚æœæ²¡æœ‰å†å²è®°å½•æˆ–è€…æ¥æºä¸æ˜¯å½“å‰ç½‘ç«™ï¼Œåˆ™å¯¼èˆªåˆ°é¦–é¡µ
            if (window.history.length <= 1 || (!documentReferrer.startsWith(origin) && documentReferrer !== '')) {
                navigateTo('index.html');
            } else {
                // å¦åˆ™æ‰§è¡Œè¿”å›æ“ä½œ
                window.history.back();
            }
        }

        function enterArea(area) {
            switch(area) {
                case 'history':
                    // æ»šåŠ¨åˆ°å†å²æ—¶é—´è½´éƒ¨åˆ†
                    document.querySelector('.timeline-container').scrollIntoView({ behavior: 'smooth' });
                    break;
                case 'games':
                    // æ»šåŠ¨åˆ°æ¸¸æˆåŒºåŸŸ
                    const gameSection = document.querySelectorAll('.section-title')[1];
                    gameSection.scrollIntoView({ behavior: 'smooth' });
                    break;
                case 'programming':
                    alert('åˆ›æ„ç¼–ç¨‹å·¥åŠå³å°†ä¸Šçº¿ï¼Œæ•¬è¯·æœŸå¾…ï¼');
                    break;
                case 'qa':
                    // æ»šåŠ¨åˆ°é—®ç­”åŒºåŸŸ
                    document.querySelector('.qa-section').scrollIntoView({ behavior: 'smooth' });
                    break;
            }
        }

        function getAreaName(area) {
            const areas = {
                'history': 'AIå†å²é•¿æ²³',
                'games': 'AIæ¸¸æˆå®éªŒå®¤',
                'programming': 'åˆ›æ„ç¼–ç¨‹å·¥åŠ',
                'qa': 'AIåä¸‡ä¸ªä¸ºä»€ä¹ˆ'
            };
            return areas[area] || 'æœªçŸ¥åŒºåŸŸ';
        }

        function playGame(game) {
            switch(game) {
                case 'image-recognition':
                case 'expression':
                    // è·³è½¬åˆ°AIçŸ¥è¯†é—®ç­”æ¸¸æˆ
                    window.location.href = 'quiz-game.html';
                    break;
                case 'training':
                    alert('è®­ç»ƒæˆ‘çš„å°æ€ªå…½æ¸¸æˆå³å°†ä¸Šçº¿ï¼Œæ•¬è¯·æœŸå¾…ï¼');
                    break;
                case 'programming':
                    alert('ç¼–ç¨‹æ€ç»´æŒ‘æˆ˜å³å°†ä¸Šçº¿ï¼Œæ•¬è¯·æœŸå¾…ï¼');
                    break;
                default:
                    alert('æ¸¸æˆå¼€å‘ä¸­...');
            }
        }

        function getGameName(game) {
            const games = {
                'image-recognition': 'çŒœçŒœæˆ‘æ˜¯è°',
                'expression': 'è¡¨æƒ…æ¨¡ä»¿ç§€',
                'training': 'è®­ç»ƒæˆ‘çš„å°æ€ªå…½',
                'programming': 'ç¼–ç¨‹æ€ç»´æŒ‘æˆ˜'
            };
            return games[game] || 'æœªçŸ¥æ¸¸æˆ';
        }

        // AIé—®ç­”åŠŸèƒ½
        async function askQuestion() {
            const question = prompt("å‘å°å…‰æé—®å…³äºAIçš„é—®é¢˜ï¼š");
            if (!question || question.trim() === '') {
                return;
            }

            try {
                const token = localStorage.getItem('token');
                if (!token) {
                    alert('è¯·å…ˆç™»å½•ï¼');
                    window.location.href = 'login.html';
                    return;
                }

                // æ˜¾ç¤ºåŠ è½½æç¤º
                const loadingMsg = document.createElement('div');
                loadingMsg.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 9999; text-align: center;';
                loadingMsg.innerHTML = `
                    <div style="font-size: 40px; margin-bottom: 15px;">ğŸ¤”</div>
                    <div style="font-size: 16px; color: #666;">å°å…‰æ­£åœ¨æ€è€ƒä¸­...</div>
                `;
                document.body.appendChild(loadingMsg);

                // è°ƒç”¨AIæ¥å£
                const response = await fetch(`${API_BASE}/ai/chat`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({
                        message: question,
                        context: 'AIæ¢ç´¢å²› - å„¿ç«¥å‹å¥½æ¨¡å¼'
                    })
                });

                const result = await response.json();

                // ç§»é™¤åŠ è½½æç¤º
                document.body.removeChild(loadingMsg);

                if (response.ok && result.success) {
                    // æ˜¾ç¤ºå›ç­”
                    const answerMsg = document.createElement('div');
                    answerMsg.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 9999; max-width: 400px; max-height: 60vh; overflow-y: auto;';
                    answerMsg.innerHTML = `
                        <div style="font-size: 40px; text-align: center; margin-bottom: 15px;">ğŸ’¡</div>
                        <div style="font-weight: bold; margin-bottom: 10px; color: #4a90e2;">ä½ çš„é—®é¢˜ï¼š</div>
                        <div style="background: #f0f9ff; padding: 10px; border-radius: 8px; margin-bottom: 15px; font-size: 14px;">${question}</div>
                        <div style="font-weight: bold; margin-bottom: 10px; color: #4a90e2;">å°å…‰çš„å›ç­”ï¼š</div>
                        <div style="background: #fff4e6; padding: 10px; border-radius: 8px; margin-bottom: 20px; font-size: 14px; line-height: 1.6;">${result.data.reply || result.data.response || 'å°å…‰æš‚æ—¶æ— æ³•å›ç­”è¿™ä¸ªé—®é¢˜å“¦'}</div>
                        <button onclick="this.parentElement.remove()" style="width: 100%; padding: 12px; background: linear-gradient(135deg, #4a90e2 0%, #8e44ad 100%); color: white; border: none; border-radius: 10px; font-size: 16px; cursor: pointer;">çŸ¥é“äº†</button>
                    `;
                    document.body.appendChild(answerMsg);
                } else {
                    throw new Error(result.message || 'AIå›ç­”å¤±è´¥');
                }

            } catch (error) {
                console.error('AIé—®ç­”å¤±è´¥:', error);
                alert('å°å…‰é‡åˆ°äº†é—®é¢˜ï¼š' + error.message);
                // å¦‚æœæœ‰åŠ è½½æç¤ºï¼Œç§»é™¤å®ƒ
                const loadingMsg = document.querySelector('div[style*="position: fixed"]');
                if (loadingMsg) {
                    loadingMsg.remove();
                }
            }
        }

        // åŠ è½½å­¦ä¹ è¿›åº¦
        async function loadGameProgress() {
            try {
                const token = localStorage.getItem('token');
                if (!token) {
                    return; // æœªç™»å½•æ—¶ä¸åŠ è½½è¿›åº¦
                }

                const response = await fetch(`${API_BASE}/games/progress`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                if (response.ok) {
                    const result = await response.json();
                    if (result.success && result.data) {
                        // æ›´æ–°æ¸¸æˆè¿›åº¦æ˜¾ç¤º
                        const progress = result.data;
                        // è¿™é‡Œå¯ä»¥æ ¹æ®å®é™…è¿”å›çš„æ•°æ®ç»“æ„æ›´æ–°è¿›åº¦æ¡
                        console.log('æ¸¸æˆè¿›åº¦:', progress);
                    }
                }
            } catch (error) {
                console.error('åŠ è½½æ¸¸æˆè¿›åº¦å¤±è´¥:', error);
                // é™é»˜å¤±è´¥ï¼Œä¸å½±å“ç”¨æˆ·ä½“éªŒ
            }
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initAppNavigation();
            loadGameProgress(); // åŠ è½½æ¸¸æˆè¿›åº¦
        });
    </script>
</body>
</html>