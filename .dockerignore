# ============================================================
# Docker 构建排除文件清单
# 作用：减小镜像体积，避免将无用文件打包进镜像
# ============================================================

# ==================== Git 相关 ====================
.git
.gitignore
.gitattributes
.github

# ==================== 依赖目录 ====================
# Node.js 依赖（会在镜像中重新安装）
node_modules
**/node_modules
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*

# ==================== 构建产物 ====================
# 这些文件会在容器内重新生成
dist
build
**/dist
**/build
*.log

# ==================== 开发工具配置 ====================
.vscode
.idea
*.swp
*.swo
*~
.DS_Store
Thumbs.db

# ==================== 测试相关 ====================
coverage
.nyc_output
*.test.ts
*.spec.ts
__tests__
test
tests

# ==================== 文档和说明 ====================
# 开发文档不需要打包进镜像
*.md
!README.md
docs
*.doc
*.docx
*.pdf

# ==================== 环境配置文件 ====================
# 敏感信息，不应打包（运行时通过环境变量或挂载注入）
.env.local
.env.development
.env.test
*.local

# ==================== Docker 相关 ====================
# 避免递归打包
Dockerfile*
docker-compose*.yml
docker-compose*.yaml
.dockerignore

# ==================== 临时文件 ====================
tmp
temp
*.tmp
*.bak
*.swp
uploads
**/uploads

# ==================== 数据库迁移（已在代码中） ====================
# 迁移脚本会保留，但测试数据不需要
migrations/*.sql

# ==================== 其他无用文件 ====================
# 报告和总结文档
*_REPORT.md
*_SUMMARY.md
*_GUIDE.md
DEMO_GUIDE.md
FEATURE_CHECK_REPORT.md
FILE_SYNC_REPORT.md
GITHUB_UPLOAD_REPORT.md
IMPLEMENTATION_SUMMARY.md
STARTUP_GUIDE.md
路由测试清单.md

# Dify 相关配置（不需要打包）
dify

# 测试脚本
*.bat
test-*.sh

# 特定项目文件
《启蒙之光》项目说明简介.doc
.claude
