<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯è’™ä¹‹å…‰ - é˜³å…‰å¸Œæœ›æ³¨å†Œç™»å½•ç³»ç»Ÿ</title>
    <script src="navigation-template.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ff9a00 0%, #ff6a00 50%, #ff4800 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }
        
        /* é˜³å…‰å°„çº¿æ•ˆæœ */
        .sun-rays {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.4) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 40% 80%, rgba(255, 255, 255, 0.2) 0%, transparent 50%);
            z-index: 0;
        }
        
        .container {
            width: 100%;
            max-width: 450px;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 8px solid #fff;
            position: relative;
            z-index: 1;
        }
        
        .header {
            text-align: center;
            padding: 30px 20px 20px;
            background: linear-gradient(135deg, #ff9a00, #ff6a00);
            color: white;
            position: relative;
            border-bottom: 5px solid #ffd166;
        }
        
        .header h1 {
            font-size: 34px;
            margin-bottom: 10px;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 2px 2px 0px rgba(255, 107, 0, 0.3);
        }
        
        .header p {
            font-size: 18px;
            opacity: 0.9;
            font-weight: 500;
        }
        
        .form-container {
            padding: 30px;
        }
        
        .form-title {
            text-align: center;
            margin-bottom: 25px;
            color: #ff6a00;
            font-size: 24px;
            font-weight: 600;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 16px;
            color: #ff6a00;
            font-weight: 500;
        }
        
        .input-group input {
            width: 100%;
            padding: 14px 15px;
            border: 2px solid #ffd166;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s;
            background-color: #fff9f0;
        }
        
        .input-group input:focus {
            border-color: #ff9a00;
            outline: none;
            background-color: white;
            box-shadow: 0 0 0 3px rgba(255, 154, 0, 0.3);
        }
        
        .password-requirements {
            font-size: 13px;
            color: #ff9a00;
            margin-top: 5px;
            line-height: 1.4;
        }
        
        .btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(to right, #ff9a00, #ff6a00);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
            box-shadow: 0 4px 0 #e85c00;
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #e85c00;
        }
        
        .btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #e85c00;
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }
        
        .btn:hover::after {
            left: 100%;
        }
        
        .switch-form {
            text-align: center;
            margin-top: 20px;
            font-size: 16px;
        }
        
        .switch-form a {
            color: #ff9a00;
            text-decoration: none;
            cursor: pointer;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .switch-form a:hover {
            color: #ff6a00;
            text-decoration: underline;
        }
        
        .error-message {
            color: #e74c3c;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .success-message {
            color: #2ecc71;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .welcome-container {
            text-align: center;
            padding: 40px 30px;
        }
        
        .welcome-title {
            font-size: 28px;
            margin-bottom: 20px;
            color: #ff6a00;
        }
        
        .welcome-text {
            margin-bottom: 30px;
            color: #ff9a00;
            line-height: 1.6;
        }
        
        .hidden {
            display: none;
        }
        
        .form-page {
            transition: opacity 0.3s ease;
        }
        
        .ai-icon {
            font-size: 80px;
            margin-bottom: 15px;
            color: #ff9a00;
            text-shadow: 3px 3px 0px rgba(255, 107, 0, 0.3);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .footer {
            text-align: center;
            padding: 15px;
            font-size: 12px;
            color: #ff9a00;
            border-top: 1px solid #ffd166;
        }
        
        .profile-link {
            display: inline-block;
            margin-top: 15px;
            color: #ff9a00;
            text-decoration: none;
            font-weight: 500;
        }
        
        .profile-link:hover {
            text-decoration: underline;
        }
        
        .secondary-btn {
            background: linear-gradient(to right, #ffd166, #ffb347) !important;
            box-shadow: 0 4px 0 #ff9a00 !important;
            color: #ff6a00 !important;
        }
        
        .secondary-btn:hover {
            box-shadow: 0 6px 0 #ff9a00 !important;
        }
        
        .secondary-btn:active {
            box-shadow: 0 2px 0 #ff9a00 !important;
        }
        
        .sun-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            color: #fff;
            opacity: 0.8;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
        }
        
        .floating-element {
            position: absolute;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            animation: float-random 15s infinite linear;
        }
        
        @keyframes float-random {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg);
            }
            25% {
                transform: translateY(-20px) translateX(10px) rotate(90deg);
            }
            50% {
                transform: translateY(0) translateX(20px) rotate(180deg);
            }
            75% {
                transform: translateY(20px) translateX(10px) rotate(270deg);
            }
            100% {
                transform: translateY(0) translateX(0) rotate(360deg);
            }
        }
        
        @media (max-width: 480px) {
            .container {
                max-width: 100%;
            }
            
            .form-container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="sun-rays"></div>
    
    <div class="floating-elements">
        <!-- æµ®åŠ¨å…ƒç´ å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
    </div>
    
    <div class="container">
        <div class="header">
            <div class="sun-icon">â˜€ï¸</div>
            <h1>åŠ å…¥å¯è’™ä¹‹å…‰</h1>
            <p>å¼€å¯ä½ çš„AIæ¢ç´¢ä¹‹æ—…å§</p>
        </div>
        
        <!-- æ³¨å†Œé¡µé¢ -->
        <div id="register-page" class="form-page">
            <div class="form-container">
                <div class="ai-icon">ğŸ¤–âœ¨</div>
                <h2 class="form-title">ç”¨æˆ·æ³¨å†Œ</h2>
                <form id="register-form">
                    <div class="input-group">
                        <label for="register-phone">æ‰‹æœºå·</label>
                        <input type="tel" id="register-phone" placeholder="è¯·è¾“å…¥æ‚¨çš„æ‰‹æœºå·" required>
                        <div id="phone-error" class="error-message">è¯·è¾“å…¥æœ‰æ•ˆçš„æ‰‹æœºå·</div>
                    </div>
                    
                    <div class="input-group">
                        <label for="register-password">å¯†ç </label>
                        <input type="password" id="register-password" placeholder="è¯·è¾“å…¥å¯†ç " required>
                        <div class="password-requirements">å¯†ç éœ€è‡³å°‘8ä½ï¼ŒåŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯å’Œæ•°å­—</div>
                        <div id="password-error" class="error-message">å¯†ç ä¸ç¬¦åˆè¦æ±‚</div>
                    </div>
                    
                    <div class="input-group">
                        <label for="confirm-password">ç¡®è®¤å¯†ç </label>
                        <input type="password" id="confirm-password" placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç " required>
                        <div id="confirm-error" class="error-message">ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´</div>
                    </div>
                    
                    <button type="submit" class="btn">æ³¨å†Œ</button>
                    
                    <div class="switch-form">
                        å·²æœ‰è´¦å·ï¼Ÿ <a id="to-login">ç«‹å³ç™»å½•</a>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- ç™»å½•é¡µé¢ -->
        <div id="login-page" class="form-page hidden">
            <div class="form-container">
                <div class="ai-icon">ğŸ”âœ¨</div>
                <h2 class="form-title">ç”¨æˆ·ç™»å½•</h2>
                <form id="login-form">
                    <div class="input-group">
                        <label for="login-phone">æ‰‹æœºå·</label>
                        <input type="tel" id="login-phone" placeholder="è¯·è¾“å…¥æ‚¨çš„æ‰‹æœºå·" required>
                        <div id="login-phone-error" class="error-message">è¯·è¾“å…¥æœ‰æ•ˆçš„æ‰‹æœºå·</div>
                    </div>
                    
                    <div class="input-group">
                        <label for="login-password">å¯†ç </label>
                        <input type="password" id="login-password" placeholder="è¯·è¾“å…¥å¯†ç " required>
                        <div id="login-password-error" class="error-message">å¯†ç é”™è¯¯</div>
                    </div>
                    
                    <button type="submit" class="btn">ç™»å½•</button>
                    
                    <div class="switch-form">
                        æ²¡æœ‰è´¦å·ï¼Ÿ <a id="to-register">ç«‹å³æ³¨å†Œ</a>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- æ¬¢è¿é¡µé¢ -->
        <div id="welcome-page" class="form-page hidden">
            <div class="welcome-container">
                <div class="ai-icon">ğŸ‰âœ¨</div>
                <h2 class="welcome-title">ç™»å½•æˆåŠŸï¼</h2>
                <p class="welcome-text">æ¬¢è¿åŠ å…¥å¯è’™ä¹‹å…‰ï¼Œæ‚¨å·²æˆåŠŸå¼€å¯AIæ¢ç´¢ä¹‹æ—…ï¼</p>
                <button id="profile-btn" class="btn secondary-btn">è¿›å…¥ä¸ªäººä¸»é¡µ</button>
                <button id="logout-btn" class="btn" style="margin-top: 10px;">é€€å‡ºç™»å½•</button>
            </div>
        </div>
        
        <div class="footer">
            &copy; 2023 å¯è’™ä¹‹å…‰ AIæ¢ç´¢å¹³å° | å…³è”æ–‡ä»¶: D:/2025å¹´AI/AIé€ ç‰©è®¡åˆ’/é¡¹ç›®åº“æ–‡ä»¶/qmzg/profile.html
        </div>
    </div>

    <script>
        // é˜²æ­¢åŠ¨æ€æ¨¡å—åŠ è½½é”™è¯¯
window.addEventListener('error', function(e) {
    if (e.target && e.target.src && e.target.src.includes('@vite/client')) {
        e.preventDefault();
        console.log('å·²æ‹¦æˆªViteå®¢æˆ·ç«¯æ¨¡å—åŠ è½½è¯·æ±‚');
    }
}, true);

// åœ¨DOMåŠ è½½å®Œæˆååˆå§‹åŒ–åº”ç”¨å¯¼èˆª
document.addEventListener('DOMContentLoaded', function() {
    // åˆå§‹åŒ–å¯¼èˆª
    initAppNavigation();
});
        
        // é¡µé¢å…ƒç´ 
        const registerPage = document.getElementById('register-page');
        const loginPage = document.getElementById('login-page');
        const welcomePage = document.getElementById('welcome-page');
        
        // æ³¨å†Œè¡¨å•å…ƒç´ 
        const registerForm = document.getElementById('register-form');
        const registerPhone = document.getElementById('register-phone');
        const registerPassword = document.getElementById('register-password');
        const confirmPassword = document.getElementById('confirm-password');
        
        // ç™»å½•è¡¨å•å…ƒç´ 
        const loginForm = document.getElementById('login-form');
        const loginPhone = document.getElementById('login-phone');
        const loginPassword = document.getElementById('login-password');
        
        // é”™è¯¯æç¤ºå…ƒç´ 
        const phoneError = document.getElementById('phone-error');
        const passwordError = document.getElementById('password-error');
        const confirmError = document.getElementById('confirm-error');
        const loginPhoneError = document.getElementById('login-phone-error');
        const loginPasswordError = document.getElementById('login-password-error');
        
        // æŒ‰é’®å…ƒç´ 
        const toLoginLink = document.getElementById('to-login');
        const toRegisterLink = document.getElementById('to-register');
        const logoutBtn = document.getElementById('logout-btn');
        const profileBtn = document.getElementById('profile-btn');
        
        // ä½¿ç”¨localStorageæ¨¡æ‹Ÿç”¨æˆ·æ•°æ®åº“
        let users = JSON.parse(localStorage.getItem('users')) || {};
        
        // åˆ›å»ºæµ®åŠ¨å…ƒç´ 
        function createFloatingElements() {
            const container = document.querySelector('.floating-elements');
            const elementCount = 15;
            
            for (let i = 0; i < elementCount; i++) {
                const element = document.createElement('div');
                element.classList.add('floating-element');
                
                // éšæœºå¤§å°å’Œä½ç½®
                const size = Math.random() * 30 + 10;
                element.style.width = `${size}px`;
                element.style.height = `${size}px`;
                element.style.left = `${Math.random() * 100}%`;
                element.style.top = `${Math.random() * 100}%`;
                
                // éšæœºåŠ¨ç”»å»¶è¿Ÿ
                element.style.animationDelay = `${Math.random() * 5}s`;
                element.style.animationDuration = `${Math.random() * 10 + 10}s`;
                
                container.appendChild(element);
            }
        }
        
        // æ˜¾ç¤ºé¡µé¢
        function showPage(page) {
            registerPage.classList.add('hidden');
            loginPage.classList.add('hidden');
            welcomePage.classList.add('hidden');
            page.classList.remove('hidden');
        }
        
        // æ‰‹æœºå·éªŒè¯
        function validatePhone(phone) {
            const phoneRegex = /^1[3-9]\d{9}$/;
            return phoneRegex.test(phone);
        }
        
        // å¯†ç éªŒè¯
        function validatePassword(password) {
            // è‡³å°‘8ä½ï¼ŒåŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯å’Œæ•°å­—
            const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;
            return passwordRegex.test(password);
        }
        
        // åˆ‡æ¢è‡³ç™»å½•é¡µé¢
        toLoginLink.addEventListener('click', function() {
            showPage(loginPage);
        });
        
        // åˆ‡æ¢è‡³æ³¨å†Œé¡µé¢
        toRegisterLink.addEventListener('click', function() {
            showPage(registerPage);
        });
        
        // é€€å‡ºç™»å½•
        logoutBtn.addEventListener('click', function() {
            showPage(loginPage);
            // æ¸…ç©ºç™»å½•è¡¨å•
            loginForm.reset();
        });
        
        // è¿›å…¥ä¸ªäººä¸»é¡µ
        profileBtn.addEventListener('click', function() {
            // ä½¿ç”¨ç»Ÿä¸€çš„å¯¼èˆªå‡½æ•°è·³è½¬åˆ°ä¸ªäººä¸»é¡µ
            navigateTo('profile.html');
        });
        
        // æ³¨å†Œè¡¨å•æäº¤
        registerForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // é‡ç½®é”™è¯¯æç¤º
            phoneError.style.display = 'none';
            passwordError.style.display = 'none';
            confirmError.style.display = 'none';
            
            const phone = registerPhone.value.trim();
            const password = registerPassword.value;
            const confirm = confirmPassword.value;
            
            let isValid = true;
            
            // éªŒè¯æ‰‹æœºå·
            if (!validatePhone(phone)) {
                phoneError.style.display = 'block';
                isValid = false;
            }
            
            // éªŒè¯å¯†ç 
            if (!validatePassword(password)) {
                passwordError.style.display = 'block';
                isValid = false;
            }
            
            // éªŒè¯ç¡®è®¤å¯†ç 
            if (password !== confirm) {
                confirmError.style.display = 'block';
                isValid = false;
            }
            
            // æ£€æŸ¥æ‰‹æœºå·æ˜¯å¦å·²æ³¨å†Œ
            if (users[phone]) {
                phoneError.textContent = 'è¯¥æ‰‹æœºå·å·²æ³¨å†Œ';
                phoneError.style.display = 'block';
                isValid = false;
            }
            
            if (isValid) {
                // ä¿å­˜ç”¨æˆ·ä¿¡æ¯
                users[phone] = password;
                localStorage.setItem('users', JSON.stringify(users));
                
                // è·³è½¬åˆ°ç™»å½•é¡µé¢
                showPage(loginPage);
                // æ¸…ç©ºæ³¨å†Œè¡¨å•
                registerForm.reset();
                
                // è‡ªåŠ¨å¡«å……æ‰‹æœºå·åˆ°ç™»å½•è¡¨å•
                loginPhone.value = phone;
            }
        });
        
        // ç™»å½•è¡¨å•æäº¤
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // é‡ç½®é”™è¯¯æç¤º
            loginPhoneError.style.display = 'none';
            loginPasswordError.style.display = 'none';
            
            const phone = loginPhone.value.trim();
            const password = loginPassword.value;
            
            let isValid = true;
            
            // éªŒè¯æ‰‹æœºå·
            if (!validatePhone(phone)) {
                loginPhoneError.style.display = 'block';
                isValid = false;
            }
            
            // éªŒè¯ç”¨æˆ·æ˜¯å¦å­˜åœ¨
            if (!users[phone]) {
                loginPhoneError.textContent = 'è¯¥æ‰‹æœºå·æœªæ³¨å†Œ';
                loginPhoneError.style.display = 'block';
                isValid = false;
            } else if (users[phone] !== password) {
                // éªŒè¯å¯†ç 
                loginPasswordError.style.display = 'block';
                isValid = false;
            }
            
            if (isValid) {
                // ç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°é¦–é¡µ
                navigateTo('index.html');
                // ä¿å­˜ç™»å½•çŠ¶æ€
                localStorage.setItem('isLoggedIn', 'true');
                localStorage.setItem('currentUser', phone);
            }
        });
        
        // åˆå§‹æ˜¾ç¤ºæ³¨å†Œé¡µé¢
        showPage(registerPage);
        
        // åˆ›å»ºæµ®åŠ¨å…ƒç´ 
        createFloatingElements();
    </script>
</body>
</html>