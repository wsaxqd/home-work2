# ================================
# 生产环境配置模板
# ================================
# 使用说明：
# 1. 复制此文件为 .env.production
# 2. 填写所有必需的配置项
# 3. 确保 .env.production 不被提交到版本控制
# ================================

# ================================
# 数据库配置
# ================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=qmzg_production
DB_USER=qmzg_admin
# ⚠️ 必须修改：使用强密码（至少16位，包含大小写字母、数字、特殊字符）
DB_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD

# ================================
# JWT 认证配置
# ================================
# ⚠️ 必须修改：生成方式见下方说明
# 生成命令：node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_THIS_TO_RANDOM_64_BYTE_HEX_STRING
JWT_EXPIRES_IN=7d

# ================================
# 服务器配置
# ================================
PORT=3000
NODE_ENV=production

# ================================
# CORS 配置
# ================================
# ⚠️ 必须修改：改为实际的前端域名
CORS_ORIGIN=https://your-domain.com

# ================================
# 邮件服务配置（用于邮箱验证）
# ================================
# 如果使用 Gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
# ⚠️ 必须修改：Gmail 需要使用应用专用密码
EMAIL_PASSWORD=your-app-specific-password
EMAIL_FROM=启蒙之光 <noreply@your-domain.com>

# 如果使用阿里云邮件推送
# EMAIL_HOST=smtpdm.aliyun.com
# EMAIL_PORT=465
# EMAIL_SECURE=true
# EMAIL_USER=your-account@your-domain.com
# EMAIL_PASSWORD=your-smtp-password
# EMAIL_FROM=启蒙之光 <noreply@your-domain.com>

# 如果使用腾讯企业邮箱
# EMAIL_HOST=smtp.exmail.qq.com
# EMAIL_PORT=465
# EMAIL_SECURE=true
# EMAIL_USER=your-email@your-domain.com
# EMAIL_PASSWORD=your-email-password
# EMAIL_FROM=启蒙之光 <noreply@your-domain.com>

# ================================
# 文件上传配置
# ================================
# 上传文件存储路径
UPLOAD_DIR=./uploads
# 最大文件大小（字节）10MB
MAX_FILE_SIZE=10485760

# ================================
# 日志配置
# ================================
LOG_LEVEL=info
LOG_DIR=./logs

# ================================
# 会话配置
# ================================
SESSION_SECRET=CHANGE_THIS_TO_RANDOM_STRING

# ================================
# 限流配置
# ================================
# API 请求限制（每15分钟）
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ================================
# 缓存配置（可选）
# ================================
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ================================
# 监控配置（可选）
# ================================
# Sentry 错误追踪
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ================================
# 第三方服务配置（可选）
# ================================
# 阿里云 OSS（用于文件存储）
# OSS_REGION=oss-cn-hangzhou
# OSS_ACCESS_KEY_ID=your-access-key-id
# OSS_ACCESS_KEY_SECRET=your-access-key-secret
# OSS_BUCKET=your-bucket-name

# 腾讯云 COS（用于文件存储）
# COS_SECRET_ID=your-secret-id
# COS_SECRET_KEY=your-secret-key
# COS_BUCKET=your-bucket-name
# COS_REGION=ap-guangzhou

# ================================
# 安全配置检查清单
# ================================
# [ ] DB_PASSWORD 已修改为强密码
# [ ] JWT_SECRET 已生成随机密钥
# [ ] CORS_ORIGIN 已设置为实际域名
# [ ] EMAIL_PASSWORD 已配置
# [ ] SESSION_SECRET 已生成随机字符串
# [ ] 所有 CHANGE_THIS 标记已替换
# [ ] .env.production 已添加到 .gitignore
